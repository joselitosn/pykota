.\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.38.2.
.TH DUMPYKOTA "1" "aoÃ»t 2010" "C@LL - Conseil Internet & Logiciels Libres" "User Commands"
.SH NOM
dumpykota \- page de manuel de dumpykota (PyKota) 1.27alpha13_unofficial
.SH SYNOPSIS
.B dumpykota
[\fIoptions\fR] [\fIfilterexpr\fR]
.SH DESCRIPTION
Data Dumper for PyKota.
.SH OPTIONS
.TP
\fB\-h\fR, \fB\-\-help\fR
show this help message and exit.
.TP
\fB\-v\fR, \fB\-\-version\fR
show the version number and exit.
.TP
\fB\-A\fR ARGUMENTSFILE, \fB\-\-arguments\fR=\fIARGUMENTSFILE\fR
loads additional options and arguments from a file,
one per line.
.TP
\fB\-d\fR DATA, \fB\-\-data\fR=\fIDATA\fR
Select the type of datas to dump. This option is
mandatory. Supported data types are : history,
payments, billingcodes, users, groups, printers,
upquotas, gpquotas, umembers, pmembers, and all. The
\&'all' value forces the output format to XML.
.TP
\fB\-f\fR FORMAT, \fB\-\-format\fR=\fIFORMAT\fR
Select the output format, the default being comma
separated values. Supported formats are : csv, ssv,
tsv, xml and cups. The 'cups' output format only works
when dumping the history, and produces CUPS' page_log
compatible output.
.TP
\fB\-o\fR OUTPUT, \fB\-\-output\fR=\fIOUTPUT\fR
The name of the file the data dump will be written to.
The default value is '\-', which tells dumpykota to
write the dump to stdout.
.TP
\fB\-O\fR ORDERBY, \fB\-\-orderby\fR=\fIORDERBY\fR
Change the ordering of the output based on a comma
separated list of ordering statements. For example
\&'\-username,+printername' would sort the output by
descending order of user names and ascending order of
printer names. Not all expressions are supported, and
you should not use this if you don't know the internal
structure of PyKota's database.
.TP
\fB\-s\fR, \fB\-\-sum\fR
Summarize the output. Only available when dumping the
printing history or the payments.
.SS "filtering expressions:"
.IP
Use the filtering expressions to extract only parts of the datas. Allowed
filters are of the form 'key=value'. Wildcards are not expanded as part of
these filtering expressions, so you can't use them here.
.IP
allowed keys for now:
.IP
username : User's name
groupname : Users group's name
printername : Printer's name
pgroupname : Printers group's name
hostname : Host's name
jobid : Job's id
billingcode : Job's billing code
start : Job's date of printing
end : Job's date of printing
.IP
formatting of dates with the 'start' and 'end' filtering keys:
.IP
YYYY : year boundaries
YYYYMM : month boundaries
YYYYMMDD : day boundaries
YYYYMMDDhh : hour boundaries
YYYYMMDDhhmm : minute boundaries
YYYYMMDDhhmmss : second boundaries
yesterday[+\-N] : yesterday more or less N days (e.g. : yesterday\-15)
today[+\-N] : today more or less N days (e.g. : today\-15)
tomorrow[+\-N] : tomorrow more or less N days (e.g. : tomorrow\-15)
now[+\-N] : now more or less N days (e.g. now\-15)
.IP
\&'now' and 'today' are not exactly the same since 'today' represents the
first or last second of the day depending on if it's used in a 'start=' or
\&'end=' date expression.
.IP
examples:
.IP
dumpykota \fB\-\-unit\fR EURO \fB\-\-output\fR /tmp/invoices.pdf start=now\-30
This would generate a PDF document containing invoices for all users
who have spent some credits last month. Amounts would be in EURO and
not VAT information would be included.
.IP
dumpykota \fB\-\-data\fR history \fB\-\-format\fR csv >myfile.csv
This would dump the whole printing history to stdout in the CSV
format, and redirect the output to a file.
.IP
dumpykota \fB\-\-data\fR users \fB\-\-format\fR xml \fB\-o\fR users.xml
This would dump all users into the 'users.xml' file in the XML format.
.IP
dumpykota \fB\-\-data\fR history printername=HP2100 username=jerome
This would dump jerome's printing history on printer HP2100.
.IP
dumpykota \fB\-\-data\fR history start=200503 end=20050730234615
This would dump all jobs printer between March 1st 2008 at midnight
and July 30th 2008 at 23 hours 46 minutes and 15 seconds, included.
.IP
licensing terms:
.IP
(c) 2003\-2010 Jerome Alet \- alet@librelogiciel.com
This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or (at
your option) any later version.
.IP
This program is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
General Public License for more details.
.IP
You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
